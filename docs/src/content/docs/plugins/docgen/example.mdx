---
title: Docgen Example
sidebar:
  hidden: true
---

:::note
The following content is auto-generated using the [official documentation plugin](/plugins/docgen/) directly from oneRepo's internal configuration itself.
:::

{/* start-auto-generated-from-cli */}
{/* @generated SignedSource<<49bc2efd9ce07b924bd98bb40bd04848>> */}

## `one`

```sh
one <command> [options]
```

| Option              | Type                  | Description                                                                                                                            | Required |
| ------------------- | --------------------- | -------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--0.15.4`          | `boolean`             | Show this CLI’s version number                                                                                                         |          |
| `--dry-run`         | `boolean`             | Run without actually making modifications or destructive operations                                                                    |          |
| `--show-advanced`   | `boolean`             | Pair with `--help` to show advanced options.                                                                                           |          |
| `--verbosity`, `-v` | `count`, default: `2` | Set the verbosity of the script output. Increase verbosity with `-vvv`, `-vvvv`, or `-vvvvv`. Reduce verbosity with `-v` or `--silent` |          |
| `--undefined`       | ``                    | Show the oneRepo CLI version.                                                                                                          |          |

<details>

<summary>Advanced options</summary>

| Option                | Type      | Description                                                                                     | Required |
| --------------------- | --------- | ----------------------------------------------------------------------------------------------- | -------- |
| `--help`, `-h`        | `boolean` | Show this help screen                                                                           |          |
| `--silent`            | `boolean` | Silence all output from the logger. Effectively sets verbosity to 0.                            |          |
| `--skip-engine-check` | `boolean` | Skip the engines check, which ensures the current Node.js version is within the expected range. |          |

</details>

---

### `one build`

Build public workspaces using esbuild.

```sh
one build [options]
```

| Option               | Type      | Description                                                                                                                                                                 | Required |
| -------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--affected`         | `boolean` | Select all affected workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |          |
| `--all`, `-a`        | `boolean` | Run across all workspaces                                                                                                                                                   |          |
| `--show-advanced`    | `boolean` | Pair with `--help` to show advanced options.                                                                                                                                |          |
| `--staged`           | `boolean` | Use files on the git stage to calculate affected files or workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |          |
| `--workspaces`, `-w` | `array`   | List of workspace names to run against                                                                                                                                      |          |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               | Required |
| --------------- | -------- | --------------------------------------------------------- | -------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |          |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |          |

</details>

Build all workspaces.

```sh
one build
```

Build the `graph` workspace only.

```sh
one build -w graph
```

Build the `graph`, `cli`, and `logger` workspaces.

```sh
one build -w graph cli logger
```

---

### `one codeowners`

Aliases: `owners`

Manage codeowners

```sh
one codeowners <command>
```

---

#### `one codeowners sync`

Sync code owners from workspace configurations to the repository’s CODEOWNERS file.

```sh
one codeowners sync
```

| Option            | Type      | Description                                       | Required |
| ----------------- | --------- | ------------------------------------------------- | -------- |
| `--add`           | `boolean` | Add the updated CODEOWNERS file to the git stage. |          |
| `--show-advanced` | `boolean` | Pair with `--help` to show advanced options.      |          |

<details>

<summary>Advanced options</summary>

| Option       | Type                                             | Description                                                                 | Required |
| ------------ | ------------------------------------------------ | --------------------------------------------------------------------------- | -------- |
| `--provider` | `"github"`, `"gitlab"`, `"gitea"`, `"bitbucket"` | Codeowner provider determines where the CODEOWNERS file(s) will be written. | ✅       |

</details>

---

#### `one codeowners verify`

Verify the CODEOWNERS file is up to date and unmodified.

```sh
one codeowners verify
```

| Option            | Type      | Description                                  | Required |
| ----------------- | --------- | -------------------------------------------- | -------- |
| `--show-advanced` | `boolean` | Pair with `--help` to show advanced options. |          |

<details>

<summary>Advanced options</summary>

| Option       | Type                                             | Description                                                                 | Required |
| ------------ | ------------------------------------------------ | --------------------------------------------------------------------------- | -------- |
| `--provider` | `"github"`, `"gitlab"`, `"gitea"`, `"bitbucket"` | Codeowner provider determines where the CODEOWNERS file(s) will be written. | ✅       |

</details>

---

### `one generate`

Aliases: `gen`

Generate files, folders, and workspaces from templates.

```sh
one generate [options]
```

To create new templates add a new folder to config/templates and create a `.onegen.cjs` configuration file. Follow the instructions online for more: https\://onerepo.tools/docs/plugins/generate/

| Option            | Type      | Description                                                                         | Required |
| ----------------- | --------- | ----------------------------------------------------------------------------------- | -------- |
| `--show-advanced` | `boolean` | Pair with `--help` to show advanced options.                                        |          |
| `--type`, `-t`    | `string`  | Template type to generate. If not provided, a list will be provided to choose from. |          |

<details>

<summary>Advanced options</summary>

| Option            | Type                                    | Description           | Required |
| ----------------- | --------------------------------------- | --------------------- | -------- |
| `--templates-dir` | `string`, default: `"config/templates"` | Path to the templates | ✅       |

</details>

---

### `one graph`

Run core graph commands

```sh
one graph <command>
```

---

#### `one graph show`

Show this repository’s Workspace Graph using an online visualizer or output graph representations to various formats.

```sh
one graph show [options]
```

This command can generate representations of your workspace graph for use in debugging, verifying, and documentation. By default, a URL will be given to visualize your graph online.

Pass `--open` to auto-open your default browser with the URL or use one of the `--format` options to print out various other representations.

| Option               | Type                             | Description                                                                                                                                                                 | Required |
| -------------------- | -------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--affected`         | `boolean`                        | Select all affected workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |          |
| `--all`, `-a`        | `boolean`                        | Run across all workspaces                                                                                                                                                   |          |
| `--format`, `-f`     | `"mermaid"`, `"plain"`, `"json"` | Output format for inspecting the Workspace Graph.                                                                                                                           |          |
| `--open`             | `boolean`                        | Auto-open the browser for the online visualizer.                                                                                                                            |          |
| `--show-advanced`    | `boolean`                        | Pair with `--help` to show advanced options.                                                                                                                                |          |
| `--staged`           | `boolean`                        | Use files on the git stage to calculate affected files or workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |          |
| `--workspaces`, `-w` | `array`                          | List of workspace names to run against                                                                                                                                      |          |

<details>

<summary>Advanced options</summary>

| Option          | Type                                                    | Description                                                                                                                                                           | Required |
| --------------- | ------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--from-ref`    | `string`                                                | Git ref to start looking for affected files or workspaces                                                                                                             |          |
| `--through-ref` | `string`                                                | Git ref to start looking for affected files or workspaces                                                                                                             |          |
| `--url`         | `string`, default: `"https://onerepo.tools/visualize/"` | Override the URL used to visualize the Graph. The graph data will be attached the the `g` query parameter as a JSON string of the DAG, compressed using zLib deflate. |          |

</details>

Print a URL to the online visualizer for the current affected workspace graph.

```sh
one graph show
```

Open the online visualizer for your full workspace graph.

```sh
one graph show --all --open
```

Generate a [Mermaid graph](https://mermaid.js.org/) to a file, isolating just the given `<workspace>` and those that are dependent on it.

```sh
one graph show --format=mermaid -w <workspace> > ./out.mermaid
```

---

#### `one graph verify`

Verify the integrity of the repo’s dependency graph and files in each workspace.

```sh
one graph verify
```

Dependencies across workspaces can be validated using one of the various methods:

- `off`: No validation will occur. Everything goes.
- `loose`: Reused third-party dependencies will be required to have semantic version overlap across unique branches of the Graph.

| Option            | Type                                   | Description                                  | Required |
| ----------------- | -------------------------------------- | -------------------------------------------- | -------- |
| `--dependencies`  | `"loose"`, `"off"`, default: `"loose"` | Dependency overlap validation method.        |          |
| `--show-advanced` | `boolean`                              | Pair with `--help` to show advanced options. |          |

<details>

<summary>Advanced options</summary>

| Option            | Type                                          | Description                             | Required |
| ----------------- | --------------------------------------------- | --------------------------------------- | -------- |
| `--custom-schema` | `string`, default: `"config/graph-schema.ts"` | Path to a custom JSON schema definition |          |

</details>

---

### `one tasks`

Run tasks against repo-defined lifecycles. This command will limit the tasks across the affected workspace set based on the current state of the repository.

```sh
one tasks --lifecycle=<lifecycle> [options]
```

You can fine-tune the determination of affected workspaces by providing a `--from-ref` and/or `through-ref`. For more information, get help with `--help --show-advanced`.

| Option               | Type                                                                                                                  | Description                                                                                                                                      | Required |
| -------------------- | --------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| `--affected`         | `boolean`                                                                                                             | Select all affected workspaces. If no other inputs are chosen, this will default to `true`.                                                      |          |
| `--all`, `-a`        | `boolean`                                                                                                             | Run across all workspaces                                                                                                                        |          |
| `--ignore-unstaged`  | `boolean`                                                                                                             | Force staged-changes mode on or off. If `true`, task determination and runners will ignore unstaged changes.                                     |          |
| `--lifecycle`, `-c`  | `"pre-commit"`, `"post-commit"`, `"post-checkout"`, `"pre-merge"`, `"post-merge"`, `"build"`, `"deploy"`, `"publish"` | Task lifecycle to run. All tasks for the given lifecycle will be run as merged parallel tasks, followed by the merged set of serial tasks.       | ✅       |
| `--list`             | `boolean`                                                                                                             | List found tasks. Implies dry run and will not actually run any tasks.                                                                           |          |
| `--shard`            | `string`                                                                                                              | Shard the lifecycle across multiple instances. Format as `<shard-number>/<total-shards>`                                                         |          |
| `--show-advanced`    | `boolean`                                                                                                             | Pair with `--help` to show advanced options.                                                                                                     |          |
| `--staged`           | `boolean`                                                                                                             | Backup unstaged files and use only those on the git stage to calculate affected files or workspaces. Will re-apply the unstaged files upon exit. |          |
| `--workspaces`, `-w` | `array`                                                                                                               | List of workspace names to run against                                                                                                           |          |

<details>

<summary>Advanced options</summary>

| Option          | Type                                                                                   | Description                                                               | Required |
| --------------- | -------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- | -------- |
| `--from-ref`    | `string`                                                                               | Git ref to start looking for affected files or workspaces                 |          |
| `--ignore`      | `array`, default: `[".changesets/*","**/README.md","**/CHANGELOG.md",".changeset/**"]` | List of filepath strings or globs to ignore when matching tasks to files. |          |
| `--through-ref` | `string`                                                                               | Git ref to start looking for affected files or workspaces                 |          |

</details>

Shard all tasks for the `pre-merge` lifecycle into 5 groups and runs the first shard.

```sh
one tasks --lifecycle=pre-merge --shard=1/5
```

Shard all tasks for the `pre-merge` lifecycle into 5 groups and runs the third shard.

```sh
one tasks --lifecycle=pre-merge --shard=3/5
```

---

### `one workspace`

Aliases: `$0`, `ws`

Run workspace-specific commands

```sh
one workspace <workspace-name> <command> [options]
```

Add commands to the `commands` directory within a workspace to create workspace-specific commands.

| Positional       | Type     | Description                                                                     | Required |
| ---------------- | -------- | ------------------------------------------------------------------------------- | -------- |
| `command`        | `string` | Command to run.                                                                 |          |
| `workspace-name` | `string` | Workspace name – may be the fully qualified package name or an available alias. |          |

---

#### `one workspace @onerepo/docs`

Aliases: `docs`

Runs commands in the `@onerepo/docs` workspace

---

##### `one workspace @onerepo/docs astro`

Run astro commands.

```sh
one workspace @onerepo/docs astro
```

---

##### `one workspace @onerepo/docs changelogs`

Aliases: `pull-changelogs`

Update changelogs from source files

| Option               | Type      | Description                                                                                                                                                                 | Required |
| -------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--add`              | `boolean` | Add files to the git index                                                                                                                                                  |          |
| `--affected`         | `boolean` | Select all affected workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |          |
| `--all`, `-a`        | `boolean` | Run across all workspaces                                                                                                                                                   |          |
| `--files`, `-f`      | `array`   | Determine workspaces from specific files                                                                                                                                    |          |
| `--staged`           | `boolean` | Use files on the git stage to calculate affected files or workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |          |
| `--workspaces`, `-w` | `array`   | List of workspace names to run against                                                                                                                                      |          |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               | Required |
| --------------- | -------- | --------------------------------------------------------- | -------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |          |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |          |

</details>

---

##### `one workspace @onerepo/docs collect-content`

Generate docs for the oneRepo monorepo

| Option               | Type      | Description                                                                                                                                                                 | Required |
| -------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--add`              | `boolean` | Add files to the git index                                                                                                                                                  |          |
| `--affected`         | `boolean` | Select all affected workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |          |
| `--all`, `-a`        | `boolean` | Run across all workspaces                                                                                                                                                   |          |
| `--files`, `-f`      | `array`   | Determine workspaces from specific files                                                                                                                                    |          |
| `--staged`           | `boolean` | Use files on the git stage to calculate affected files or workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |          |
| `--workspaces`, `-w` | `array`   | List of workspace names to run against                                                                                                                                      |          |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               | Required |
| --------------- | -------- | --------------------------------------------------------- | -------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |          |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |          |

</details>

---

##### `one workspace @onerepo/docs start`

Start the docs development server

```sh
one workspace @onerepo/docs start
```

| Option            | Type      | Description              | Required |
| ----------------- | --------- | ------------------------ | -------- |
| `--netlify`, `-n` | `boolean` | Run with the Netlify CLI |          |

---

##### `one workspace @onerepo/docs typedoc`

Generate typedoc markdown files for the toolchain.

```sh
one workspace @onerepo/docs typedoc
```

| Option  | Type      | Description                | Required |
| ------- | --------- | -------------------------- | -------- |
| `--add` | `boolean` | Add files to the git index |          |

---

#### `one workspace @onerepo/github-action`

Aliases: `github-action`

Runs commands in the `@onerepo/github-action` workspace

---

##### `one workspace @onerepo/github-action build`

Build public workspaces using esbuild.

```sh
one workspace @onerepo/github-action build [options]
```

| Option               | Type      | Description                                                                                                                                                                 | Required |
| -------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--affected`         | `boolean` | Select all affected workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |          |
| `--all`, `-a`        | `boolean` | Run across all workspaces                                                                                                                                                   |          |
| `--staged`           | `boolean` | Use files on the git stage to calculate affected files or workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |          |
| `--workspaces`, `-w` | `array`   | List of workspace names to run against                                                                                                                                      |          |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               | Required |
| --------------- | -------- | --------------------------------------------------------- | -------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |          |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |          |

</details>

Build all workspaces.

```sh
one workspace @onerepo/github-action build
```

Build the `graph` workspace only.

```sh
one workspace @onerepo/github-action build -w graph
```

Build the `graph`, `cli`, and `logger` workspaces.

```sh
one workspace @onerepo/github-action build -w graph cli logger
```

{/* end-auto-generated-from-cli */}
