---
title: Docgen Example
description: Automatically generated documentation from the oneRepo CLI, straight to easy to read Markdown.
sidebar:
  hidden: true
pagefind: false
tableOfContents:
  maxHeadingLevel: 5
---

:::note
The following content is auto-generated using the [official documentation plugin](/plugins/docgen/) directly from oneRepo's internal configuration itself.
:::

{/* start-auto-generated-from-cli */}
{/* @generated SignedSource<<61767712259f273a16f0e16ec7348e85>> */}

## `one`

```sh
one <command> [options...]
```

| Option            | Type                  | Description                                                                                                                           |
| ----------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| `--dry-run`       | `boolean`             | Run without actually making modifications or destructive operations                                                                   |
| `--verbosity, -v` | `count`, default: `2` | Set the verbosity of the script output. Increase verbosity with `-vvv`, `-vvvv`, or `-vvvvv`. Reduce verbosity with `-v` or `--quiet` |
| `--version`       | `boolean`             | Show the oneRepo CLI version.                                                                                                         |

<details>

<summary>Advanced options</summary>

| Option                | Type      | Description                                                                                     |
| --------------------- | --------- | ----------------------------------------------------------------------------------------------- |
| `--help, -h`          | `boolean` | Show this help screen                                                                           |
| `--quiet, -q`         | `boolean` | Silence all output from the logger. Effectively sets verbosity to 0.                            |
| `--show-advanced`     | `boolean` | Pair with `--help` to show advanced options.                                                    |
| `--skip-engine-check` | `boolean` | Skip the engines check, which ensures the current Node.js version is within the expected range. |

</details>

---

### `one build`

Build public Workspaces using esbuild.

```sh
one build [options...]
```

| Option             | Type      | Description                                                                                                                                                                 |
| ------------------ | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--affected`       | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean` | Run across all workspaces                                                                                                                                                   |
| `--staged`         | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`   | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               |
| --------------- | -------- | --------------------------------------------------------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |

</details>

Build all Workspaces.

```sh
one build
```

Build the `graph` Workspace only.

```sh
one build -w graph
```

Build the `graph`, `cli`, and `logger` Workspaces.

```sh
one build -w graph cli logger
```

---

### `one change`

Aliases: `one changes`, `one changesets`

Manage changes and changesets for publishable workspaces.

```sh
one change <command>
```

---

#### `one change add`

Aliases: `one change`

Add changesets for modified Workspaces.

```sh
one change add [options...]
```

This command will prompt for appropriate Workspace(s), prompt for the release type, and request a descriptive change entry. Once all information has been entered, a change entry file will be created in the appropriate Workspace(s). Be sure to commit these files â€“ they will be used later when you are ready to version and publish Workspaces to the registry for use outside of the Monorepo.

| Option             | Type                            | Description                                                                                                         |
| ------------------ | ------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| `--add`            | `boolean`, default: `true`      | Add the modified `package.json` files to the git stage for committing.                                              |
| `--affected`       | `boolean`                       | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                         |
| `--all, -a`        | `boolean`                       | Run across all workspaces                                                                                           |
| `--type`           | `"major"`, `"minor"`, `"patch"` | Provide a semantic version bump type. If not given, a prompt will guide you through selecting the appropriate type. |
| `--workspaces, -w` | `array`                         | List of Workspace names to run against                                                                              |

<details>

<summary>Advanced options</summary>

| Option          | Type                                        | Description                                                                                                                                                                 |
| --------------- | ------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--filenames`   | `"hash"`, `"human"`, default: `"human"`     | Filename generation strategy for change files. If `'human'`, ensure you have the `human-id` package installed.                                                              |
| `--from-ref`    | `string`                                    | Git ref to start looking for affected files or workspaces                                                                                                                   |
| `--prompts`     | `"guided"`, `"semver"`, default: `"guided"` | Change the prompt question & answer style when adding change entries.                                                                                                       |
| `--staged`      | `boolean`                                   | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--through-ref` | `string`                                    | Git ref to start looking for affected files or workspaces                                                                                                                   |

</details>

---

#### `one change migrate`

Migrate from Changesets to oneRepo changes.

```sh
one change migrate
```

<details>

<summary>Advanced options</summary>

| Option        | Type                                    | Description                                                                                                    |
| ------------- | --------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| `--filenames` | `"hash"`, `"human"`, default: `"human"` | Filename generation strategy for change files. If `'human'`, ensure you have the `human-id` package installed. |

</details>

---

#### `one change publish`

Aliases: `one change release`

Publish all Workspaces with versions not available in the registry.

```sh
one change publish [options...]
```

This command is safe to run any time. By default, only Workspaces that have previously gone through the `one change version` process will end up being published. Use `--all` for all Workspaces or `--workspaces <workspace-name>` to specify individual Workspaces to try publishing.

For each Workspace, the registry will be queried first to ensure the current version in the Workspace does not yet exist in the registry. If a version _does_ exist, the Workspace will be skipped.

| Option             | Type      | Description                                                                                |
| ------------------ | --------- | ------------------------------------------------------------------------------------------ |
| `--all, -a`        | `boolean` | Run across all workspaces                                                                  |
| `--otp`            | `boolean` | Set to true if your publishes require an OTP for NPM.                                      |
| `--skip-auth`      | `boolean` | Skip auth checks. This may be necessary for some internal registries using PATs or tokens. |
| `--workspaces, -w` | `array`   | List of Workspace names to run against                                                     |

<details>

<summary>Advanced options</summary>

| Option          | Type      | Description                                                                                                                                                                 |
| --------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--affected`    | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--allow-dirty` | `boolean` | Bypass checks to ensure no there are no un-committed changes.                                                                                                               |
| `--from-ref`    | `string`  | Git ref to start looking for affected files or workspaces                                                                                                                   |
| `--staged`      | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--through-ref` | `string`  | Git ref to start looking for affected files or workspaces                                                                                                                   |

</details>

Publish the `api` Workspace and its dependencies, if necessary.

```sh
one change publish -w api
```

Attempt to publish _all_ non-private Workspaces.

```sh
one change publish --all
```

---

#### `one change snapshot`

Aliases: `one change snap`

Publish a snapshot pre-release.

```sh
one change snapshot
```

Periodically you may want to publish a _snapshot_ release â€“ something that needs testing from the registry, but should not update the current version nor be made widely available. For these cases, use `--snapshot` and versions will be published in the format `0.0.0-{tag}-{hash}`, where `{hash}` is a short version of the current git sha. By appending a prerelease to version `0.0.0`, discoverability is greatly reduced.

| Option             | Type                              | Description                                                               |
| ------------------ | --------------------------------- | ------------------------------------------------------------------------- |
| `--all, -a`        | `boolean`                         | Run across all workspaces                                                 |
| `--allow-dirty`    | `boolean`                         | Bypass checks to ensure no there are no un-committed changes.             |
| `--otp`            | `boolean`                         | Prompt for one-time password before publishing to the registry            |
| `--reset`          | `boolean`, default: `true`        | Reset `package.json` changes before exiting. Use `--no-reset` to disable. |
| `--tag`            | `string`, default: `"prerelease"` | Distribution tag to apply when publishing the pre-release.                |
| `--workspaces, -w` | `array`                           | List of Workspace names to run against                                    |

---

#### `one change verify`

Aliases: `one change required`

Ensure there are change entries for every modified public Workspace.

```sh
one change verify
```

Add this to your pre-commit or pre-merge task lifecycles to ensure that changes to public & publishabled Workspaces are always accompanied with change entries.

---

#### `one change version`

Update version numbers for publishable workspaces

```sh
one change version
```

| Option                               | Type      | Description                                                   |
| ------------------------------------ | --------- | ------------------------------------------------------------- |
| `--all, -a`                          | `boolean` | Run across all workspaces                                     |
| `--allow-dirty`                      | `boolean` | Bypass checks to ensure no there are no un-committed changes. |
| `--prerelease, --pre, --pre-release` | `string`  | Create a pre-release using the specified identifier.          |
| `--workspaces, -w`                   | `array`   | List of Workspace names to run against                        |

Create a prerelease for the next version the form of `1.2.3-alpha.0`.

```sh
one change version --prerelease=alpha
```

---

### `one codeowners`

Aliases: `one owners`

Manage codeowners

```sh
one codeowners <command>
```

---

#### `one codeowners sync`

Sync code owners from Workspace configurations to the repositoryâ€™s CODEOWNERS file.

```sh
one codeowners sync
```

| Option  | Type      | Description                                       |
| ------- | --------- | ------------------------------------------------- |
| `--add` | `boolean` | Add the updated CODEOWNERS file to the git stage. |

<details>

<summary>Advanced options</summary>

| Option       | Type                                             | Description                                                                 | Required |
| ------------ | ------------------------------------------------ | --------------------------------------------------------------------------- | -------- |
| `--provider` | `"github"`, `"gitlab"`, `"gitea"`, `"bitbucket"` | Codeowner provider determines where the CODEOWNERS file(s) will be written. | âœ…       |

</details>

---

#### `one codeowners verify`

Verify the CODEOWNERS file is up to date and unmodified.

```sh
one codeowners verify
```

<details>

<summary>Advanced options</summary>

| Option       | Type                                             | Description                                                                 | Required |
| ------------ | ------------------------------------------------ | --------------------------------------------------------------------------- | -------- |
| `--provider` | `"github"`, `"gitlab"`, `"gitea"`, `"bitbucket"` | Codeowner provider determines where the CODEOWNERS file(s) will be written. | âœ…       |

</details>

---

### `one dependencies`

Aliases: `one dependency`, `one deps`, `one dep`

Safely manage Workspace dependencies across your repository.

```sh
one dependencies <command> [options...]
```

---

#### `one dependencies add`

Add dependencies to Workspaces.

```sh
one dependencies add -w <workspace-names...> --dev [devDependencies...] --prod [prodDependencies...] [options...]
```

If a version is not provided with the command-line input, this command will look for currently installed versions of the requested dependencies throughout all Workspaces within the Workspace Graph. If only one version is found, it will be used, regardless of the `--mode` provided.

If multiple versions of the requested dependencies are found in the Workspace Graph, a prompt will be presented to choose the appropriate version.

Otherwise, the latest version will be requested from the registry.

| Option             | Type                                               | Description                                                                                                                            |
| ------------------ | -------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| `--all, -a`        | `boolean`                                          | Run across all workspaces                                                                                                              |
| `--dedupe`         | `boolean`, default: `true`                         | Deduplicate dependencies across the repository after install is complete.                                                              |
| `--dev, -d`        | `array`                                            | Add dependencies for development purposes only.                                                                                        |
| `--mode`           | `"strict"`, `"loose"`, `"off"`, default: `"loose"` | Version selection mode. Use `strict` to use strict version numbers, `loose` to use caret (`^`) ranges, and `off` for nothing specific. |
| `--prod, -p`       | `array`                                            | Add dependencies for production purposes.                                                                                              |
| `--workspaces, -w` | `array`                                            | One or more Workspaces to add dependencies into                                                                                        |

Install the latest version of `normalizr` from the registry, using a strict version number.

```sh
one dependencies add -w my-workspace -d normalizr --mode strict
```

Install the latest version of `normalizr` from the registry, using a caret (`^`) version number range, enabling newer minor and patch releases to satisfy the dependency in the future.

```sh
one dependencies add -w my-workspace -d normalizr --mode loose
```

Install `react` as a production dependency and `babel-core` as a development dependency in both `workspace-a` and `workspace-b`.

```sh
one dependencies add -w workspace-a workspace-b -d babel-core -p react
```

---

#### `one dependencies remove`

Remove dependencies from Workspaces.

```sh
one dependencies remove -w [workspaces...] -d [dependencies...] [options...]
```

| Option               | Type                       | Description                                                               | Required |
| -------------------- | -------------------------- | ------------------------------------------------------------------------- | -------- |
| `--all, -a`          | `boolean`                  | Run across all workspaces                                                 |          |
| `--dedupe`           | `boolean`, default: `true` | Deduplicate dependencies across the repository after install is complete. |          |
| `--dependencies, -d` | `array`                    | Dependency names that should be removed.                                  | âœ…       |
| `--workspaces, -w`   | `array`                    | List of Workspace names to run against                                    |          |

---

#### `one dependencies verify`

Verify dependencies across workspaces.

```sh
one dependencies verify [options...]
```

Dependencies across Workspaces can be validated using one of the various modes:

- `off`: No validation will occur. Everything goes.
- `loose`: Reused third-party dependencies will be required to have semantic version overlap across unique branches of the Graph.
- `strict`: Versions of all dependencies across each discrete Workspace dependency tree must be strictly equal.

| Option             | Type                                               | Description                                                                                                                                                   |
| ------------------ | -------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--all, -a`        | `boolean`                                          | Run across all workspaces                                                                                                                                     |
| `--mode`           | `"strict"`, `"loose"`, `"off"`, default: `"loose"` | Version selection mode. Use `strict` to use exact version matches, `loose` to accept within defined ranges (`^` or `~` range), and `off` for no verification. |
| `--workspaces, -w` | `array`                                            | List of Workspace names to run against                                                                                                                        |

---

### `one docgen`

Generate documentation for the oneRepo cli.

```sh
one docgen [options...]
```

Help documentation should always be easy to find. This command will help automate the creation of docs for this command-line interface. If you are reading this somewhere that is not your terminal, there is a very good chance that this command was already run for you!

Add this command to your one Repo tasks on pre-commit to ensure that your documentation is always up-to-date.

| Option            | Type                                                                      | Description                                                                |
| ----------------- | ------------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| `--add`           | `boolean`                                                                 | Add the output file to the git stage                                       |
| `--format`        | `"markdown"`, `"json"`, default: `"markdown"`                             | Output format for documentation                                            |
| `--heading-level` | `number`                                                                  | Heading level to start at for Markdown output                              |
| `--out-file`      | `string`, default: `"./docs/src/content/docs/plugins/docgen/example.mdx"` | File to write output to. If not provided, stdout will be used              |
| `--out-workspace` | `string`, default: `"root"`                                               | Workspace name to write the --out-file to                                  |
| `--safe-write`    | `boolean`, default: `true`                                                | Write documentation to a portion of the file with start and end sentinels. |

<details>

<summary>Advanced options</summary>

| Option           | Type      | Description                                                                          |
| ---------------- | --------- | ------------------------------------------------------------------------------------ |
| `--command`      | `string`  | Start at the given command, skip the root and any others                             |
| `--use-defaults` | `boolean` | Use the oneRepo default configuration. Helpful for generating default documentation. |

</details>

---

### `one eslint`

Aliases: `one lint`

Run eslint across files and workspaces

```sh
one eslint [options...]
```

| Option             | Type                                                            | Description                                                                                                                                                                 |
| ------------------ | --------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--add`            | `boolean`                                                       | Add modified files after write to the git stage.                                                                                                                            |
| `--affected`       | `boolean`                                                       | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean`                                                       | Run across all workspaces                                                                                                                                                   |
| `--cache`          | `boolean`, default: `true`                                      | Use cache if available                                                                                                                                                      |
| `--extensions`     | `array`, default: `["ts","tsx","js","jsx","cjs","mjs","astro"]` | Make ESLint check files given these extensions.                                                                                                                             |
| `--files, -f`      | `array`                                                         | Determine Workspaces from specific files                                                                                                                                    |
| `--fix`            | `boolean`, default: `true`                                      | Apply auto-fixes if possible                                                                                                                                                |
| `--pretty`         | `boolean`, default: `true`                                      | Control ESLintâ€™s `--color` flag.                                                                                                                                            |
| `--quiet`          | `boolean`                                                       | Report errors only                                                                                                                                                          |
| `--staged`         | `boolean`                                                       | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`                                                         | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option              | Type                       | Description                                                                     |
| ------------------- | -------------------------- | ------------------------------------------------------------------------------- |
| `--from-ref`        | `string`                   | Git ref to start looking for affected files or workspaces                       |
| `--github-annotate` | `boolean`, default: `true` | Annotate files in GitHub with errors when failing lint checks in GitHub Actions |
| `--through-ref`     | `string`                   | Git ref to start looking for affected files or workspaces                       |

</details>

---

### `one generate`

Aliases: `one gen`

Generate files, folders, and Workspaces from templates.

```sh
one generate [options...]
```

To create new templates add a new folder to config/templates and create a `.onegen.cjs` configuration file. Follow the instructions online for more: https\://onerepo.tools/plugins/generate/

| Option       | Type     | Description                                                                         |
| ------------ | -------- | ----------------------------------------------------------------------------------- |
| `--type, -t` | `string` | Template type to generate. If not provided, a list will be provided to choose from. |

<details>

<summary>Advanced options</summary>

| Option            | Type                                    | Description           | Required |
| ----------------- | --------------------------------------- | --------------------- | -------- |
| `--templates-dir` | `string`, default: `"config/templates"` | Path to the templates | âœ…       |

</details>

---

### `one graph`

Run core Graph commands

```sh
one graph <command>
```

---

#### `one graph show`

Show this repositoryâ€™s Workspace Graph using an online visualizer or output Graph representations to various formats.

```sh
one graph show [options...]
```

This command can generate representations of your Workspace Graph for use in debugging, verifying, and documentation. By default, a URL will be given to visualize your Graph online.

Pass `--open` to auto-open your default browser with the URL or use one of the `--format` options to print out various other representations.

| Option             | Type                             | Description                                                                                                                                                                 |
| ------------------ | -------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--affected`       | `boolean`                        | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean`                        | Run across all workspaces                                                                                                                                                   |
| `--format, -f`     | `"mermaid"`, `"plain"`, `"json"` | Output format for inspecting the Workspace Graph.                                                                                                                           |
| `--open`           | `boolean`                        | Auto-open the browser for the online visualizer.                                                                                                                            |
| `--staged`         | `boolean`                        | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`                          | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option          | Type                                                    | Description                                                                                                                                                           |
| --------------- | ------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--from-ref`    | `string`                                                | Git ref to start looking for affected files or workspaces                                                                                                             |
| `--through-ref` | `string`                                                | Git ref to start looking for affected files or workspaces                                                                                                             |
| `--url`         | `string`, default: `"https://onerepo.tools/visualize/"` | Override the URL used to visualize the Graph. The Graph data will be attached the the `g` query parameter as a JSON string of the DAG, compressed using zLib deflate. |

</details>

Print a URL to the online visualizer for the current affected Workspace graph.

```sh
one graph show
```

Open the online visualizer for your full Workspace graph.

```sh
one graph show --all --open
```

Generate a [Mermaid graph](https://mermaid.js.org/) to a file, isolating just the given `<workspaces...>` and those that are dependent on it.

```sh
one graph show --format=mermaid -w <workspaces...> > ./out.mermaid
```

---

#### `one graph verify`

Verify the integrity of the repoâ€™s dependency Graph and files in each Workspace.

```sh
one graph verify
```

This command will first validate dependencies across Workspace Graph trees using the given `--mode` as well as Workspace configuration file integrity using the repoâ€™s defined JSON schema validators.

Dependencies across Workspaces can be validated using one of the various modes:

- `off`: No validation will occur. Everything goes.
- `loose`: Reused third-party dependencies will be required to have semantic version overlap across unique branches of the Graph.
- `strict`: Versions of all dependencies across each discrete Workspace dependency tree must be strictly equal.

| Option   | Type                                               | Description                           |
| -------- | -------------------------------------------------- | ------------------------------------- |
| `--mode` | `"strict"`, `"loose"`, `"off"`, default: `"loose"` | Dependency overlap validation method. |

<details>

<summary>Advanced options</summary>

| Option            | Type                                          | Description                             |
| ----------------- | --------------------------------------------- | --------------------------------------- |
| `--custom-schema` | `string`, default: `"config/graph-schema.ts"` | Path to a custom JSON schema definition |

</details>

---

### `one hooks`

Manage git repository hooks

```sh
one hooks <command>
```

---

#### `one hooks create`

Create git hooks

```sh
one hooks create
```

| Option        | Type                                                                                                                                                                                                                                                                                                                                                                                                                                          | Description                                                                |
| ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| `--add`       | `boolean`, default: `true`                                                                                                                                                                                                                                                                                                                                                                                                                    | Add the hooks to the git stage for committing.                             |
| `--hook`      | `"applypatch-msg"`, `"pre-applypatch"`, `"post-applypatch"`, `"pre-commit"`, `"pre-merge-commit"`, `"prepare-commit-msg"`, `"commit-msg"`, `"post-commit"`, `"pre-rebase"`, `"post-checkout"`, `"post-merge"`, `"pre-receive"`, `"update"`, `"post-receive"`, `"post-update"`, `"pre-auto-gc"`, `"post-rewrite"`, `"pre-push"`, `"proc-receive"`, `"push-to-checkout"`, default: `["pre-commit","post-checkout","post-merge","post-rewrite"]` | The git hook to create. Omit this option to auto-create recommended hooks. |
| `--overwrite` | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                     | Overwrite existing hooks                                                   |

<details>

<summary>Advanced options</summary>

| Option         | Type     | Description                                                                              | Required |
| -------------- | -------- | ---------------------------------------------------------------------------------------- | -------- |
| `--hooks-path` | `string` | Tracked path to use for git hooks. This option is defaulted via the oneRepo root config. | âœ…       |

</details>

---

#### `one hooks init`

Aliases: `one hooks sync`

Initialize and sync git hook settings for this repository.

```sh
one hooks init
```

<details>

<summary>Advanced options</summary>

| Option         | Type     | Description                        | Required |
| -------------- | -------- | ---------------------------------- | -------- |
| `--hooks-path` | `string` | Tracked path to use for git hooks. | âœ…       |

</details>

---

### `one install`

Install the oneRepo CLI into your environment.

```sh
one install [options...]
```

| Option       | Type                         | Description                                                                                                         |
| ------------ | ---------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| `--force`    | `boolean`                    | Force installation regardless of pre-existing command.                                                              |
| `--location` | `string`                     | Install location for the binary. Default location is chosen as default option for usr/bin dependent on the OS type. |
| `--version`  | `string`, default: `"1.0.0"` | Version of oneRepo to install. Defaults to the current version.                                                     |

---

### `one jest`

Aliases: `one test`

Run tests using Jest.

```sh
one jest [options...] -- [passthrough]
one jest [options...]
```

This test commad will automatically attempt to run only the test files related to the changes in your working state. If you have un-committed changes, only those related to files that are in a modified state will be run. If there are no un-committed changes, test files related to those modified since your git merge-base will be run. By passing specific filepaths as extra passthrough arguments an argument separator (two dasshes `--`), you can further restrict the tests to those files and paths.

Additionally, any other [Jest CLI options](https://jestjs.io/docs/cli) can be passed as passthrough arguments as well after an argument separator (two dashes `--`)

| Option             | Type                       | Description                                                                                                                                                                 |
| ------------------ | -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--affected`       | `boolean`                  | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean`                  | Run across all workspaces                                                                                                                                                   |
| `--inspect`        | `boolean`                  | Break for the the Node inspector to debug tests.                                                                                                                            |
| `--pretty`         | `boolean`, default: `true` | Control Jestâ€™s `--colors` flag.                                                                                                                                             |
| `--staged`         | `boolean`                  | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--watch`          | `boolean`                  | Shortcut for jest `--watch` mode.                                                                                                                                           |
| `--workspaces, -w` | `array`                    | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option              | Type                                    | Description                                                                                 |
| ------------------- | --------------------------------------- | ------------------------------------------------------------------------------------------- |
| `--config`          | `string`, default: `"./jest.config.js"` | Path to the jest.config file, relative to the repo root.                                    |
| `--from-ref`        | `string`                                | Git ref to start looking for affected files or workspaces                                   |
| `--passWithNoTests` | `boolean`, default: `true`              | Allows the test suite to pass when no files are found. See plugin configuration to disable. |
| `--through-ref`     | `string`                                | Git ref to start looking for affected files or workspaces                                   |

</details>

Run only tests related to modified files.

```sh
one jest ,test
```

Runs jest in --watch mode against the currently affected files.

```sh
one jest ,test --watch
```

Run Jest in watch mode against a particular file.

```sh
one jest ,test --watch -- path/to/test.ts
```

Pass any other Jest CLI options after the argument separator.

```sh
one jest ,test -- --runInBand --detectOpenHandles
```

---

### `one prettier`

Aliases: `one format`

Format files with prettier

```sh
one prettier [options...]
```

| Option             | Type      | Description                                                                                                                                                                 |
| ------------------ | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--add`            | `boolean` | Add modified files after write                                                                                                                                              |
| `--affected`       | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean` | Run across all workspaces                                                                                                                                                   |
| `--check`          | `boolean` | Check for changes.                                                                                                                                                          |
| `--files, -f`      | `array`   | Determine Workspaces from specific files                                                                                                                                    |
| `--staged`         | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`   | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option              | Type                       | Description                                                                        |
| ------------------- | -------------------------- | ---------------------------------------------------------------------------------- |
| `--cache`           | `boolean`, default: `true` | Use Prettierâ€™s built-in cache to determin whether files need formatting or not.    |
| `--from-ref`        | `string`                   | Git ref to start looking for affected files or workspaces                          |
| `--github-annotate` | `boolean`, default: `true` | Annotate files in GitHub with errors when failing format checks in GitHub Actions. |
| `--through-ref`     | `string`                   | Git ref to start looking for affected files or workspaces                          |

</details>

---

### `one tasks`

Run tasks against repo-defined lifecycles. This command will limit the tasks across the affected Workspace set based on the current state of the repository.

```sh
one tasks --lifecycle=<lifecycle> [options...]
```

You can fine-tune the determination of affected Workspaces by providing a `--from-ref` and/or `through-ref`. For more information, get help with `--help --show-advanced`.

| Option              | Type                                                                                                                                            | Description                                                                                                                                      | Required |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| `--affected`        | `boolean`                                                                                                                                       | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                      |          |
| `--all, -a`         | `boolean`                                                                                                                                       | Run across all workspaces                                                                                                                        |          |
| `--ignore-unstaged` | `boolean`                                                                                                                                       | Force staged-changes mode on or off. If `true`, task determination and runners will ignore unstaged changes.                                     |          |
| `--lifecycle, -c`   | `"pre-commit"`, `"post-commit"`, `"post-checkout"`, `"pre-merge"`, `"post-merge"`, `"build"`, `"pre-deploy"`, `"pre-publish"`, `"post-publish"` | Task lifecycle to run. All tasks for the given lifecycle will be run as merged parallel tasks, followed by the merged set of serial tasks.       | âœ…       |
| `--list`            | `boolean`                                                                                                                                       | List found tasks. Implies dry run and will not actually run any tasks.                                                                           |          |
| `--shard`           | `string`                                                                                                                                        | Shard the lifecycle across multiple instances. Format as `<shard-number>/<total-shards>`                                                         |          |
| `--staged`          | `boolean`                                                                                                                                       | Backup unstaged files and use only those on the git stage to calculate affected files or workspaces. Will re-apply the unstaged files upon exit. |          |
| `--workspaces, -w`  | `array`                                                                                                                                         | List of Workspace names to run against                                                                                                           |          |

<details>

<summary>Advanced options</summary>

| Option          | Type                                                   | Description                                                               |
| --------------- | ------------------------------------------------------ | ------------------------------------------------------------------------- |
| `--from-ref`    | `string`                                               | Git ref to start looking for affected files or workspaces                 |
| `--ignore`      | `array`, default: `["**/README.md","**/CHANGELOG.md"]` | List of filepath strings or globs to ignore when matching tasks to files. |
| `--through-ref` | `string`                                               | Git ref to start looking for affected files or workspaces                 |

</details>

Shard all tasks for the `pre-merge` lifecycle into 5 groups and runs the first shard.

```sh
one tasks --lifecycle=pre-merge --shard=1/5
```

Shard all tasks for the `pre-merge` lifecycle into 5 groups and runs the third shard.

```sh
one tasks --lifecycle=pre-merge --shard=3/5
```

---

### `one tsc`

Aliases: `one typescript`, `one typecheck`

Sync TS project references

```sh
one tsc [options...]
```

Checks for the existence of `tsconfig.json` file and batches running `tsc --noEmit` in each Workspace.

| Option             | Type                       | Description                                                                                                                                                                 |
| ------------------ | -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--affected`       | `boolean`                  | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean`                  | Run across all workspaces                                                                                                                                                   |
| `--pretty`         | `boolean`, default: `true` | Control TypeScriptâ€™s `--pretty` flag.                                                                                                                                       |
| `--staged`         | `boolean`                  | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`                    | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option                                                           | Type                                 | Description                                               |
| ---------------------------------------------------------------- | ------------------------------------ | --------------------------------------------------------- |
| `--from-ref`                                                     | `string`                             | Git ref to start looking for affected files or workspaces |
| `--through-ref`                                                  | `string`                             | Git ref to start looking for affected files or workspaces |
| `--tsconfig`                                                     | `string`, default: `"tsconfig.json"` | The filename of the tsconfig to find in each Workspace.   |
| `--use-project-references, --project-references, --project-refs` | `boolean`, default: `true`           | Automatically sync and use typescript project references  |

</details>

---

### `one vitest`

Aliases: `one test`

Run unit tests using Vitest

```sh
one vitest ,test [options...] -- [passthrough]
one vitest [options...]
```

This test commad will automatically attempt to run only the test files related to the changes in your git branch. By passing specific filepaths as extra passthrough arguments after two dashes (`--`), you can further restrict the tests to those specific files only.

Additionally, any other [Vitest CLI options](https://jest.dev/guide/cli.html) can be used as passthrough arguments as well after an argument separator (two dashes `--`).

| Option             | Type      | Description                                                                                                                                                                 |
| ------------------ | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--affected`       | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean` | Run across all workspaces                                                                                                                                                   |
| `--inspect`        | `boolean` | Break for the the Node inspector to debug tests.                                                                                                                            |
| `--staged`         | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--watch`          | `boolean` | Shortcut for vitest `--watch` mode.                                                                                                                                         |
| `--workspaces, -w` | `array`   | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option          | Type                                      | Description                                                |
| --------------- | ----------------------------------------- | ---------------------------------------------------------- |
| `--config`      | `string`, default: `"./vitest.config.ts"` | Path to the vitest.config file, relative to the repo root. |
| `--from-ref`    | `string`                                  | Git ref to start looking for affected files or workspaces  |
| `--through-ref` | `string`                                  | Git ref to start looking for affected files or workspaces  |

</details>

Run only tests related to modified files.

```sh
one vitest ,test
```

Run vitest in --watch mode.

```sh
one vitest ,test --watch
```

Run vitest in watch mode with a particular file.

```sh
one vitest ,test --watch -- path/to/test.ts
```

Run all tests in a given Workspace.

```sh
one vitest ,test -w <workspaces...>
```

---

### `one workspace`

Aliases: `one ws`

Run commands within individual Workspaces.

```sh
one workspace <workspace-name> <commands...> [options...] -- [passthrough...]
```

This enables running both custom commands as defined via the `commands.directory` configuration option within each Workspace as well as `commands.passthrough` aliases.

Arguments for passthrough commands meant for the underlying command must be sent after `--`.

| Positional       | Type     | Description                       |
| ---------------- | -------- | --------------------------------- |
| `command`        | `string` | Command to run.                   |
| `workspace-name` | `string` | The name or alias of a Workspace. |

---

#### `one workspace docs`

Aliases: `one workspace @onerepo/docs`

Runs commands in the "@onerepo/docs" Workspace.

---

##### `one workspace docs astro`

Run Astro directly.

---

##### `one workspace docs build`

Build the documentation site for production.

---

##### `one workspace docs changelogs`

Aliases: `one workspace docs pull-changelogs`

Update changelogs from source files

| Option             | Type      | Description                                                                                                                                                                 |
| ------------------ | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--add`            | `boolean` | Add files to the git index                                                                                                                                                  |
| `--affected`       | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean` | Run across all workspaces                                                                                                                                                   |
| `--files, -f`      | `array`   | Determine Workspaces from specific files                                                                                                                                    |
| `--staged`         | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`   | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               |
| --------------- | -------- | --------------------------------------------------------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |

</details>

---

##### `one workspace docs check`

Check Astro pages for errors.

---

##### `one workspace docs collect-content`

Generate docs for the oneRepo monorepo

| Option             | Type      | Description                                                                                                                                                                 |
| ------------------ | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--add`            | `boolean` | Add files to the git index                                                                                                                                                  |
| `--affected`       | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean` | Run across all workspaces                                                                                                                                                   |
| `--files, -f`      | `array`   | Determine Workspaces from specific files                                                                                                                                    |
| `--staged`         | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`   | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               |
| --------------- | -------- | --------------------------------------------------------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |

</details>

---

##### `one workspace docs start`

Start the Astro dev server.

---

##### `one workspace docs typedoc`

Generate typedoc markdown files for the toolchain.

```sh
one workspace docs typedoc
```

| Option  | Type      | Description                |
| ------- | --------- | -------------------------- |
| `--add` | `boolean` | Add files to the git index |

---

#### `one workspace github-action`

Aliases: `one workspace @onerepo/github-action`

Runs commands in the "@onerepo/github-action" Workspace.

---

##### `one workspace github-action build`

Build public Workspaces using esbuild.

```sh
one workspace github-action build [options...]
```

| Option             | Type      | Description                                                                                                                                                                 |
| ------------------ | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--affected`       | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean` | Run across all workspaces                                                                                                                                                   |
| `--staged`         | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`   | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option          | Type     | Description                                               |
| --------------- | -------- | --------------------------------------------------------- |
| `--from-ref`    | `string` | Git ref to start looking for affected files or workspaces |
| `--through-ref` | `string` | Git ref to start looking for affected files or workspaces |

</details>

Build all Workspaces.

```sh
one workspace github-action build
```

Build the `graph` Workspace only.

```sh
one workspace github-action build -w graph
```

Build the `graph`, `cli`, and `logger` workspaces.

```sh
one workspace github-action build -w graph cli logger
```

{/* end-auto-generated-from-cli */}

{/* start-auto-generated-from-cli-eslint */}
{/* @generated SignedSource<<2b199521d00842c4e062346aa19ca9f1>> */}

### `one eslint`

Aliases: `one lint`

Run eslint across files and workspaces

```sh
one eslint [options...]
```

| Option             | Type                                                            | Description                                                                                                                                                                 |
| ------------------ | --------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--add`            | `boolean`                                                       | Add modified files after write to the git stage.                                                                                                                            |
| `--affected`       | `boolean`                                                       | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |
| `--all, -a`        | `boolean`                                                       | Run across all workspaces                                                                                                                                                   |
| `--cache`          | `boolean`, default: `true`                                      | Use cache if available                                                                                                                                                      |
| `--extensions`     | `array`, default: `["ts","tsx","js","jsx","cjs","mjs","astro"]` |                                                                                                                                                                             |
| `--files, -f`      | `array`                                                         | Determine Workspaces from specific files                                                                                                                                    |
| `--fix`            | `boolean`, default: `true`                                      | Apply auto-fixes if possible                                                                                                                                                |
| `--pretty`         | `boolean`, default: `true`                                      | Control ESLintâ€™s `--color` flag.                                                                                                                                            |
| `--quiet`          | `boolean`                                                       | Report errors only                                                                                                                                                          |
| `--staged`         | `boolean`                                                       | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |
| `--workspaces, -w` | `array`                                                         | List of Workspace names to run against                                                                                                                                      |

<details>

<summary>Advanced options</summary>

| Option              | Type                       | Description                                                                     |
| ------------------- | -------------------------- | ------------------------------------------------------------------------------- |
| `--from-ref`        | `string`                   | Git ref to start looking for affected files or workspaces                       |
| `--github-annotate` | `boolean`, default: `true` | Annotate files in GitHub with errors when failing lint checks in GitHub Actions |
| `--show-advanced`   | `boolean`                  | Pair with `--help` to show advanced options.                                    |
| `--through-ref`     | `string`                   | Git ref to start looking for affected files or workspaces                       |

</details>

{/* end-auto-generated-from-cli-eslint */}
