---
title: '@onerepo/plugin-prettier'
sidebar:
  label: Prettier
description: Official Prettier plugin for the oneRepo JavaScript and TypeScript monorepo toolchain.
meta:
  version: 0.6.0
  stability: stable
---

import { TabItem } from '@astrojs/starlight/components';
import Tabs from '../../../components/Tabs.astro';

## Installation

<Tabs group="pkgmanager">
  <TabItem label="npm">

    ```sh title="Install via npm"
    npm install --save-dev @onerepo/plugin-prettier
    ```

  </TabItem>
  <TabItem label="yarn">

    ```sh title="Install via Yarn"
    yarn add --dev @onerepo/plugin-prettier
    ```

  </TabItem>
  <TabItem label="pnpm">

    ```sh title="Install via pnpm"
    pnpm install --save-dev @onerepo/plugin-prettier
    ```

  </TabItem>
</Tabs>

{/* start-install-typedoc */}
{/* @generated SignedSource<<fb1d15f29d572b671de764ee27abd180>> */}

### prettier()

```ts
prettier(opts): Plugin
```

Include the `prettier` plugin in your oneRepo plugin setup:

```js title="onerepo.config.ts" {1,4}
import { prettier } from '@onerepo/plugin-prettier';

export default {
	plugins: [prettier()],
};
```

#### Parameters

| Parameter | Type                  |
| :-------- | :-------------------- |
| `opts`    | [`Options`](#options) |

### Options

```ts
type Options: {
  githubAnnotate: boolean;
  name: string | string[];
  useCache: boolean;
};
```

```js title="onerepo.config.js"
export default {
	plugins: [
		prettier({
			name: ['format', 'prettier'],
		}),
	],
};
```

#### Type declaration

##### githubAnnotate?

```ts
githubAnnotate?: boolean;
```

When `true` or unset and run in GitHub Actions, any files failing format checks will be annotated with an error in the GitHub user interface.

###### Default

`true`

##### name?

```ts
name?: string | string[];
```

The name of the prettier command. You might change this to `'format'` or `['format', 'prettier']` to keep things more familiar for most developers.

##### useCache?

```ts
useCache?: boolean;
```

Whether to use Prettier's built-in cache determinism.

###### Default

`true`

{/* end-install-typedoc */}

## Commands

{/* start-auto-generated-from-cli-prettier */}
{/* @generated SignedSource<<d5d26cbfa4e1df5b956788d013f94ad2>> */}

### `one format`

Aliases: `prettier`

Format files with prettier

```sh
one format [options]
```

| Option               | Type      | Description                                                                                                                                                                 | Required |
| -------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| `--add`              | `boolean` | Add modified files after write                                                                                                                                              |          |
| `--affected`         | `boolean` | Select all affected Workspaces. If no other inputs are chosen, this will default to `true`.                                                                                 |          |
| `--all`, `-a`        | `boolean` | Run across all workspaces                                                                                                                                                   |          |
| `--check`            | `boolean` | Check for changes.                                                                                                                                                          |          |
| `--files`, `-f`      | `array`   | Determine Workspaces from specific files                                                                                                                                    |          |
| `--show-advanced`    | `boolean` | Pair with `--help` to show advanced options.                                                                                                                                |          |
| `--staged`           | `boolean` | Use files on the git stage to calculate affected files or Workspaces. When unset or `--no-staged`, changes will be calculated from the entire branch, since its fork point. |          |
| `--workspaces`, `-w` | `array`   | List of Workspace names to run against                                                                                                                                      |          |

<details>

<summary>Advanced options</summary>

| Option              | Type                       | Description                                                                        | Required |
| ------------------- | -------------------------- | ---------------------------------------------------------------------------------- | -------- |
| `--cache`           | `boolean`, default: `true` | Use Prettierâ€™s built-in cache to determin whether files need formatting or not.    |          |
| `--from-ref`        | `string`                   | Git ref to start looking for affected files or workspaces                          |          |
| `--github-annotate` | `boolean`, default: `true` | Annotate files in GitHub with errors when failing format checks in GitHub Actions. |          |
| `--through-ref`     | `string`                   | Git ref to start looking for affected files or workspaces                          |          |

</details>

{/* end-auto-generated-from-cli-prettier */}
